!function(){const e=window.EARTH.list,t=window.EARTH.current,n=e=>(e>12?e-=12:0===e&&(e=12),e),i=function(e){let t={};return document.cookie.split("; ").forEach((e=>{let n=e.split("=");t[n[0]]=n[1]})),t[e]||""},o=function(e,t){document.cookie=[e,t].join("=")+";"},l=()=>s("th"),r=()=>s("td"),s=e=>document.createElement(e),a=["AM","PM"];window.onload=d=>{void 0!==d&&(o("tz","America/Los_Angeles|America/Chicago|America/Denver"),o("home","America/Los_Angeles"));let c={},p=new Date,u=(p.getUTCHours(),p.getUTCMinutes(),Math.floor(Date.now()/1e3)+60*p.getTimezoneOffset());var m;i("tz").split("|").forEach((e=>{let t=new Date(p.toLocaleString("en-US",{timeZone:e})),n=[],i=t.getHours(),o=i,l=t.getMinutes(),r=t.getTime()/1e3,s="",d="Â±",m=0,h={hours:Math.floor((r-u)/3600),minutes:(r-u)/60%60};Object.keys(h).forEach((e=>{let t=h[e].toString().replace(/\-/,"");s+=t.padStart(2,"0")})),h.hours>0?d="+":h.hours<0&&(d="-");for(let e=0;e<24;e++)o+m>23&&(o=0,m=0),n.push(o+m),m++;h.str=d+s,c[r+e]={name:e.replace(/_/g," "),offset:h,hour:i,minute:l,increment:n,period:a[i<12?0:1]}})),m=c,c=Object.keys(m).sort().reduce(((e,t)=>(e[t]=m[t],e)),{});const h=s("table");h.setAttribute("id","table"),Object.keys(c).forEach((e=>{let i=c[e],o=l();o.textContent=i.name,o.classList+=" name";let a=l();a.innerHTML=i.offset.str,a.classList+=" offset";let d=i.minute.toString().padStart(2,"0"),p=r();p.textContent=[n(i.hour),d].join(":")+" "+i.period;let u=s("tr");u.appendChild(o),u.appendChild(a),u.appendChild(p),t===i.name&&(u.classList+=" current"),i.increment.forEach((e=>{let t=i.offset.minutes.toString().padStart(2,"0"),o=r();o.innerHTML=n(e)+`<span class="offset_minutes">:${t.replace(/[^0-9]/,"")}</span>`,u.appendChild(o)})),h.appendChild(u)}));let f=s("select");f.setAttribute("name","timezone_list"),f.setAttribute("id","timezone_list");let g=s("option");g.setAttribute("value","--"),g.textContent="-- Add New City --",g.setAttribute("selected","selected"),f.appendChild(g),e.forEach((e=>{let t=new RegExp("(?:^|\\|)"+e.replace("/","\\/")+"(?:\\||$)");if(!i("tz").match(t)){let t=s("option");t.setAttribute("value",e),t.text=e.replace(/_/g," "),f.appendChild(t)}}));let C=l();C.appendChild(f);let A=s("button");A.innerHTML="+",A.type="submit",A.title="Add";let b=l();b.appendChild(A);let E=s("tr");E.appendChild(C),E.appendChild(b),h.appendChild(E),document.getElementById("container").onsubmit=function(e){let t=document.getElementById("timezone_list").value;if("--"!==t){let e=i("tz").split("|");e.push(t),o("tz",e.join("|")),console.log(i("tz"))}e.preventDefault()},console.log(i("tz")),document.getElementById("container").innerHTML=h.outerHTML}}();